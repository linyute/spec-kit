# 功能規範：[功能名稱]

**功能分支**：`[###-feature-name]`
**建立日期**：[日期]
**狀態**：草稿
**輸入**：使用者描述：「$ARGUMENTS」

## 執行流程 (main)
```
1. 從輸入解析使用者描述
   → 如果為空：錯誤「未提供功能描述」
2. 從描述中提取關鍵概念
   → 識別：參與者、動作、資料、約束
3. 對於每個不清楚的方面：
   → 標記為 [NEEDS CLARIFICATION: specific question]
4. 填寫使用者情境與測試部分
   → 如果沒有明確的使用者流程：錯誤「無法確定使用者情境」
5. 產生功能要求
   → 每個要求都必須可測試
   → 標記模糊的要求
6. 識別關鍵實體 (如果涉及資料)
7. 執行審查檢查清單
   → 如果存在任何 [NEEDS CLARIFICATION]：警告「規範存在不確定性」
   → 如果發現實作細節：錯誤「移除技術細節」
8. 返回：成功 (規範已準備好進行規劃)
```

---

## ⚡ 快速指南
- ✅ 專注於使用者需要什麼以及為什麼
- ❌ 避免如何實作 (沒有技術堆疊、API、程式碼結構)
- 👥 為業務利害關係人編寫，而非開發人員

### 區段要求
- **強制區段**：每個功能都必須完成
- **可選區段**：僅在與功能相關時才包含
- 當某個區段不適用時，請完全移除它 (不要保留為「不適用」)

### 適用於 AI 產生
從使用者提示建立此規範時：
1. **標記所有模糊之處**：對於您需要做出的任何假設，請使用 [NEEDS CLARIFICATION: specific question]
2. **不要猜測**：如果提示沒有指定某些內容 (例如，「登入系統」但沒有驗證方法)，請標記它
3. **像測試人員一樣思考**：每個模糊的要求都應該未能通過「可測試且明確」的檢查清單項目
4. **常見未明確指定區域**：
   - 使用者類型和權限
   - 資料保留/刪除策略
   - 效能目標和規模
   - 錯誤處理行為
   - 整合要求
   - 安全/合規需求

---

## 使用者情境與測試 *(強制)*

### 主要使用者故事
[用簡單的語言描述主要使用者旅程]

### 驗收情境
1. **假設** [初始狀態]，**當** [動作]，**則** [預期結果]
2. **假設** [初始狀態]，**當** [動作]，**則** [預期結果]

### 邊緣案例
- 當 [邊界條件] 發生時會怎樣？
- 系統如何處理 [錯誤情境]？

## 要求 *(強制)*

### 功能要求
- **FR-001**：系統必須 [特定功能，例如，「允許使用者建立帳戶」]
- **FR-002**：系統必須 [特定功能，例如，「驗證電子郵件地址」]
- **FR-003**：使用者必須能夠 [關鍵互動，例如，「重設密碼」]
- **FR-004**：系統必須 [資料要求，例如，「保留使用者偏好設定」]
- **FR-005**：系統必須 [行為，例如，「記錄所有安全事件」]

*標記不清楚要求的範例：*
- **FR-006**：系統必須透過 [NEEDS CLARIFICATION: auth method not specified - email/password, SSO, OAuth?] 驗證使用者
- **FR-007**：系統必須保留使用者資料 [NEEDS CLARIFICATION: retention period not specified]

### 關鍵實體 *(如果功能涉及資料，請包含)*
- **[實體 1]**：[它代表什麼，關鍵屬性，不包含實作細節]
- **[實體 2]**：[它代表什麼，與其他實體的關係]

---

## 審查與驗收檢查清單
*閘門：在 main() 執行期間執行自動檢查*

### 內容品質
- [ ] 沒有實作細節 (語言、框架、API)
- [ ] 專注於使用者價值和業務需求
- [ ] 為非技術利害關係人編寫
- [ ] 所有強制區段已完成

### 要求完整性
- [ ] 沒有 [NEEDS CLARIFICATION] 標記
- [ ] 要求可測試且明確
- [ ] 成功標準可衡量
- [ ] 範圍明確界定
- [ ] 依賴項和假設已識別

---

## 執行狀態
*由 main() 在處理期間更新*

- [ ] 使用者描述已解析
- [ ] 關鍵概念已提取
- [ ] 模糊之處已標記
- [ ] 使用者情境已定義
- [ ] 要求已產生
- [ ] 實體已識別
- [ ] 審查檢查清單已通過

---
