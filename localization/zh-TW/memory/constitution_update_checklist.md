# 憲法更新檢查清單

修改憲法 (`/memory/constitution.md`) 時，請確保所有相關文件都已更新，以保持一致性。

## 要更新的範本

### 新增/修改任何條款時：
- [ ] `/templates/plan-template.md` - 更新憲法檢查部分
- [ ] `/templates/spec-template.md` - 如果要求/範圍受影響，請更新
- [ ] `/templates/tasks-template.md` - 如果需要新的任務類型，請更新
- [ ] `/.claude/commands/plan.md` - 如果規劃流程變更，請更新
- [ ] `/.claude/commands/tasks.md` - 如果任務產生受影響，請更新
- [ ] `/CLAUDE.md` - 更新執行時開發指南

### 特定條款更新：

#### 第一條 (函式庫優先)：
- [ ] 確保範本強調函式庫建立
- [ ] 更新 CLI 命令範例
- [ ] 新增 llms.txt 文件要求

#### 第二條 (CLI 介面)：
- [ ] 更新範本中的 CLI 旗標要求
- [ ] 新增文字輸入/輸出協定提醒

#### 第三條 (測試優先)：
- [ ] 更新所有範本中的測試順序
- [ ] 強調 TDD 要求
- [ ] 新增測試批准閘門

#### 第四條 (整合測試)：
- [ ] 列出整合測試觸發器
- [ ] 更新測試類型優先順序
- [ ] 新增真實依賴項要求

#### 第五條 (可觀察性)：
- [ ] 新增日誌記錄要求到範本
- [ ] 包含多層日誌串流
- [ ] 更新效能監控部分

#### 第六條 (版本控制)：
- [ ] 新增版本增量提醒
- [ ] 包含破壞性變更程序
- [ ] 更新遷移要求

#### 第七條 (簡潔性)：
- [ ] 更新專案計數限制
- [ ] 新增模式禁止範例
- [ ] 包含 YAGNI 提醒

## 驗證步驟

1. **提交憲法變更之前：**
   - [ ] 所有範本都參考了新要求
   - [ ] 範例已更新以符合新規則
   - [ ] 文件之間沒有矛盾

2. **更新範本之後：**
   - [ ] 執行範例實作計畫
   - [ ] 驗證所有憲法要求都已解決
   - [ ] 檢查範本是否自包含 (無需憲法即可閱讀)

3. **版本追蹤：**
   - [ ] 更新憲法版本號
   - [ ] 在範本頁腳中註明版本
   - [ ] 將修正案新增到憲法歷史記錄

## 常見遺漏

注意這些經常被遺忘的更新：
- 命令文件 (`/commands/*.md`)
- 範本中的檢查清單項目
- 範例程式碼/命令
- 領域特定變體 (Web vs 行動 vs CLI)
- 文件之間的交叉引用

## 範本同步狀態

上次同步檢查：2025-07-16
- 憲法版本：2.1.1
- 範本對齊：❌ (缺少版本控制、可觀察性細節)

---

*此檢查清單確保憲法原則在所有專案文件中得到一致應用。*